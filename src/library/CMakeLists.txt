# 源文件
aux_source_directory(. LIB_SRC)


# 构建动态库
add_library(${LIB_NAME} SHARED ${LIB_SRC})
set_target_properties(${LIB_NAME} PROPERTIES
	POSITION_INDEPENDENT_CODE ON
)
# 构建静态库
add_library(${ORIGINAL_STATIC_LIB_NAME} STATIC $<TARGET_OBJECTS:${LIB_NAME}>)
# 重命名静态库
set_target_properties(${ORIGINAL_STATIC_LIB_NAME} PROPERTIES 
	OUTPUT_NAME ${LIB_NAME}
	POSITION_INDEPENDENT_CODE ON
)

install(TARGETS ${LIB_NAME} ${ORIGINAL_STATIC_LIB_NAME}
    LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
    LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
)
